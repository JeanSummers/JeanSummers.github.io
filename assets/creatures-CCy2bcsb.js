import{j as t,_ as e,r as c,B as u,s as f,t as T,p as L}from"./index-CFGERTp2.js";import{w as V,C as O,B as y,u as C,S as k,R as S,T as w,a as b}from"./usePagination-BixAJCE7.js";import{C as z,a as B,T as n,P as F,E as M,G as E,I as W}from"./PageLoader-8XAVz2Yt.js";import{b as G,c as D,C as H,R as g,P as N,D as v,A as q,M as J,d as K,I as Q}from"./MarkdownBlock-DRk7Halk.js";import{G as P}from"./ResourceIcon-DfJS213U.js";import"./LinearProgress-UkNgXDgM.js";function R({alignment:r,...o}){return t.jsx(G,{text:r,info:V[r],...o})}function U(r){const o=D();return t.jsxs(z,{variant:"elevation",sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[t.jsx(H,{component:"img",image:r.image,alt:r.name,sx:{aspectRatio:"2 / 1"}}),t.jsxs(B,{children:[t.jsxs(n,{variant:"h5",fontSize:{xs:20,sm:24},component:"div",display:"flex",alignItems:"center",gap:0,lineHeight:1,children:[r.name,t.jsx(g,{rank:r.rank,category:"creature",color:"textSecondary",fontSize:"inherit",component:"span",ml:1})]}),t.jsxs(n,{gutterBottom:!0,sx:{color:"text.secondary",fontSize:14},children:[r.type," | ",t.jsx(R,{alignment:r.alignment,component:"span",fontSize:"inherit"})]}),t.jsx(n,{variant:"body2",children:r.description})]}),t.jsx(O,{children:t.jsx(y,{onClick:()=>o({search:{c:r.name}}),children:"Читать далее"})})]},r.name)}const X={Абсалонд:()=>e(()=>import("./Абсалонд-Pzn5wTYH.js"),[]),Аварагард:()=>e(()=>import("./Аварагард-DBJV-uVY.js"),[]),Алисфер:()=>e(()=>import("./Алисфер-1F_FKVyY.js"),[]),Альба:()=>e(()=>import("./Альба-CC80HkYw.js"),[]),Альнат:()=>e(()=>import("./Альнат-DeJ4w_M9.js"),[]),Англерия:()=>e(()=>import("./Англерия-Db7AzYBZ.js"),[]),Библиотекарь:()=>e(()=>import("./Библиотекарь-M2N7ACgG.js"),[]),Бовем:()=>e(()=>import("./Бовем-DJz4Pogt.js"),[]),Брауни:()=>e(()=>import("./Брауни-BC4SYa1X.js"),[]),Вермис:()=>e(()=>import("./Вермис-nKnJ4rrU.js"),[]),Вертебар:()=>e(()=>import("./Вертебар-Cjb2vDpq.js"),[]),Виленс:()=>e(()=>import("./Виленс-BzbNCeZG.js"),[]),Гекатонхейра:()=>e(()=>import("./Гекатонхейра-B8UA2y4G.js"),[]),Грумм:()=>e(()=>import("./Грумм-CsW1MLH_.js"),[]),Декрейс:()=>e(()=>import("./Декрейс-DcjrKDN-.js"),[]),Денигуит:()=>e(()=>import("./Денигуит-AahXqbbw.js"),[]),Дирмах:()=>e(()=>import("./Дирмах-oO1GhOu6.js"),[]),Донкестра:()=>e(()=>import("./Донкестра-CF7hEtwi.js"),[]),Дульцидент:()=>e(()=>import("./Дульцидент-CF6LsQYx.js"),[]),Канцер:()=>e(()=>import("./Канцер-disiQAmz.js"),[]),Конил:()=>e(()=>import("./Конил-fBEUDYfm.js"),[]),Крефигциим:()=>e(()=>import("./Крефигциим-BIZxz3tr.js"),[]),Легит:()=>e(()=>import("./Легит-B29DlSKA.js"),[]),"Мастах и Ноктюрн":()=>e(()=>import("./Мастах и Ноктюрн-d9jxVGc4.js"),[]),Медиокрис:()=>e(()=>import("./Медиокрис-BQqjU1lh.js"),[]),Наксаз:()=>e(()=>import("./Наксаз-D67rslRi.js"),[]),Оногадор:()=>e(()=>import("./Оногадор-njpKD4DM.js"),[]),Папагуль:()=>e(()=>import("./Папагуль-iw4rFN5r.js"),[]),Пилум:()=>e(()=>import("./Пилум-YajtssDH.js"),[]),Пульсар:()=>e(()=>import("./Пульсар-BDXxHat-.js"),[]),Рат:()=>e(()=>import("./Рат-Dy2yh5me.js"),[]),Сиддарт:()=>e(()=>import("./Сиддарт-Cy3Sjjmq.js"),[]),Синебудка:()=>e(()=>import("./Синебудка-DxBqDJqi.js"),[]),Скаутас:()=>e(()=>import("./Скаутас-DWQfZhG5.js"),[]),Скиумус:()=>e(()=>import("./Скиумус-gIV0c8-T.js"),[]),Скраг:()=>e(()=>import("./Скраг-DPUXRQK8.js"),[]),Сол:()=>e(()=>import("./Сол-ImU6aHEl.js"),[]),Фэлбек:()=>e(()=>import("./Фэлбек-Bg8-b0Nu.js"),[]),Хабенс:()=>e(()=>import("./Хабенс-CqqkOzJ3.js"),[]),Хиниад:()=>e(()=>import("./Хиниад-4Uzgl-ji.js"),[]),Эгуор:()=>e(()=>import("./Эгуор-DDA2jcYq.js"),[]),Эйма:()=>e(()=>import("./Эйма-D64Cxbu1.js"),[]),Эксиль:()=>e(()=>import("./Эксиль-BhZpESkh.js"),[]),Эосдем:()=>e(()=>import("./Эосдем-H6FfCELb.js"),[]),Янао:()=>e(()=>import("./Янао-Cdgx86C1.js"),[])};function Y({info:r,...o}){const[s,a]=c.useState(null),i=j=>{a(j.currentTarget)},m=()=>{a(null)},d=!!s;return r?t.jsxs(t.Fragment,{children:[t.jsx(P,{"aria-owns":d?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:i,onMouseLeave:m,sx:{cursor:"help"},...o}),t.jsx(N,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:d,anchorEl:s,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:m,disableRestoreFocus:!0,disableScrollLock:!0,children:t.jsx(n,{sx:{p:1},maxWidth:300,children:r})})]}):t.jsx(P,{...o})}function Z(r){return t.jsxs(t.Fragment,{children:[t.jsx(u,{display:"flex",alignItems:"center",justifyContent:"center",children:t.jsx(u,{component:"img",src:r.image,maxWidth:"100%",maxHeight:"40vh"})}),t.jsx(v,{sx:{my:2}}),t.jsxs(u,{display:"grid",gridTemplateColumns:"140px 1fr",gap:1,justifyItems:"flex-start",sx:{color:o=>o.palette.text.primary},children:[t.jsx(_,{title:"Тип"}),t.jsx(n,{children:r.type}),t.jsx(_,{title:"Класс"}),t.jsx(n,{children:r.class}),t.jsx(_,{title:"Ранг"}),t.jsx(g,{rank:r.rank,category:"creature"}),t.jsx(_,{title:"Редкость"}),t.jsx(g,{rank:r.rarity,category:"rarity"}),t.jsx(_,{title:"Доступ"}),t.jsx(q,{rank:r.permission}),t.jsx(_,{title:"Популяция"}),t.jsx(n,{children:r.population}),t.jsx(_,{title:"Ареал обитания"}),t.jsx(n,{children:r.arial}),t.jsx(_,{title:"Приручаемость"}),t.jsx(n,{children:r.taming}),t.jsx(_,{title:"Возраст"}),t.jsx(n,{children:r.age}),t.jsx(_,{title:"Мировоззрение"}),t.jsx(R,{alignment:r.alignment}),t.jsx(_,{title:"Агрессивность"}),t.jsx(n,{children:r.agression}),t.jsx(_,{title:"Атрибут"}),t.jsx(n,{children:r.attributes.join(", ")})]}),t.jsx(v,{sx:{my:2}}),t.jsx($,{tags:r.tags}),t.jsx(v,{sx:{my:2}}),t.jsx(J,{name:r.name,source:X})]})}function _({title:r}){return t.jsxs(n,{fontWeight:"bold",children:[r,":"]})}function $({tags:r}){const{data:o}=f();return t.jsx(u,{display:"flex",flexWrap:"wrap",gap:1,children:r.map(s=>{var a;return t.jsx(Y,{name:s,info:(a=o==null?void 0:o.find(i=>i.id===s))==null?void 0:a.description,category:"tags",fontSize:"large",sx:{color:i=>i.palette.text.secondary}},s)})})}const tt=c.memo(function(){const{c:o}=K(),s=D(),{data:a}=T(),i=a==null?void 0:a.lookup.get(o);if(!i)return null;const m=()=>s({});return t.jsx(Q,{open:!0,onClose:m,title:i.name,content:t.jsx(Z,{...i})})}),et=c.memo(function(){const{status:o,data:s,error:a}=T(),[i,m]=c.useState([]),[d,j]=L("",500),h=c.useMemo(()=>{const l=d.trim().toLowerCase();let x=(s==null?void 0:s.items)||[];return i.length&&(x=x.filter(p=>i.includes(p.rank))),l?x.filter(p=>[p.name,p.description,p.alignment,p.taming,...p.attributes].join(";").toLowerCase().includes(l)):x},[s,i,d]),{paginate:A,...I}=C(h.length,9);return o==="pending"?t.jsx(F,{}):o==="error"?t.jsx(M,{message:a.message}):t.jsxs(t.Fragment,{children:[t.jsxs(E,{container:!0,spacing:{xs:1,sm:1,md:2},children:[t.jsx(E,{size:12,children:t.jsx(W,{placeholder:"Поиск",fullWidth:!0,startAdornment:t.jsx(k,{sx:{color:"action.active",mr:1,my:.5}}),onChange:l=>j(l.target.value)})}),t.jsx(E,{display:"flex",size:{sm:12,md:6},justifyContent:"flex-start",children:t.jsx(S,{ranks:i,setRanks:m})}),t.jsx(E,{size:{xs:12,sm:12,md:6},children:t.jsx(w,{...I})})]}),t.jsx(u,{sx:{width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(350px, 100%), 1fr))",gap:2,pb:2},children:A(h).map(l=>t.jsx(U,{...l},l.name))}),t.jsx(b,{...I}),t.jsx(tt,{})]})}),at=et;export{at as component};
