import{j as t,_ as e,C as c,U as A,D as V,r as E,V as h,R as O}from"./index-z0nbMM35.js";import{w as y,C,B as k,u as S,S as w,R as b,T as z,a as B}from"./usePagination-IYKXV6FN.js";import{C as F,j as W,T as s,P as M,E as H,k as x,h as $}from"./ResourceIcon-l9-PGcZH.js";import{c as G,d as D,C as N,R as j,D as u,A as U,M as q,I,e as J,b as K}from"./IconPopoverBase-DoAV5hxp.js";import{L as R}from"./Popover-8k1-kUWz.js";function T({alignment:i,...o}){return t.jsx(G,{text:i,info:y[i],...o})}function Q(i){const o=D();return t.jsxs(F,{variant:"elevation",sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[t.jsx(N,{component:"img",image:i.image,alt:i.name,sx:{aspectRatio:"2 / 1"}}),t.jsxs(W,{children:[t.jsxs(s,{variant:"h5",fontSize:{xs:20,sm:24},component:"div",display:"flex",alignItems:"center",gap:0,lineHeight:1,children:[i.name,t.jsx(j,{rank:i.rank,category:"creature",color:"textSecondary",fontSize:"inherit",component:"span",ml:1})]}),t.jsxs(s,{gutterBottom:!0,sx:{color:"text.secondary",fontSize:14},children:[i.type," | ",t.jsx(T,{alignment:i.alignment,component:"span",fontSize:"inherit"})]}),t.jsx(s,{variant:"body2",children:i.description})]}),t.jsx(C,{children:t.jsx(k,{onClick:()=>o({search:{c:i.name}}),children:"Читать далее"})})]},i.name)}const X={Абсалонд:()=>e(()=>import("./Абсалонд-Pzn5wTYH.js"),[]),Аварагард:()=>e(()=>import("./Аварагард-DBJV-uVY.js"),[]),Алисфер:()=>e(()=>import("./Алисфер-1F_FKVyY.js"),[]),Альба:()=>e(()=>import("./Альба-CC80HkYw.js"),[]),Альнат:()=>e(()=>import("./Альнат-DeJ4w_M9.js"),[]),Англерия:()=>e(()=>import("./Англерия-Db7AzYBZ.js"),[]),Библиотекарь:()=>e(()=>import("./Библиотекарь-M2N7ACgG.js"),[]),Бовем:()=>e(()=>import("./Бовем-DJz4Pogt.js"),[]),Брауни:()=>e(()=>import("./Брауни-BC4SYa1X.js"),[]),Вермис:()=>e(()=>import("./Вермис-nKnJ4rrU.js"),[]),Вертебар:()=>e(()=>import("./Вертебар-Cjb2vDpq.js"),[]),Виленс:()=>e(()=>import("./Виленс-BzbNCeZG.js"),[]),Гекатонхейра:()=>e(()=>import("./Гекатонхейра-B8UA2y4G.js"),[]),Грумм:()=>e(()=>import("./Грумм-CsW1MLH_.js"),[]),Декрейс:()=>e(()=>import("./Декрейс-DcjrKDN-.js"),[]),Денигуит:()=>e(()=>import("./Денигуит-AahXqbbw.js"),[]),Дирмах:()=>e(()=>import("./Дирмах-oO1GhOu6.js"),[]),Донкестра:()=>e(()=>import("./Донкестра-CF7hEtwi.js"),[]),Дульцидент:()=>e(()=>import("./Дульцидент-CF6LsQYx.js"),[]),Канцер:()=>e(()=>import("./Канцер-disiQAmz.js"),[]),Конил:()=>e(()=>import("./Конил-fBEUDYfm.js"),[]),Крефигциим:()=>e(()=>import("./Крефигциим-BIZxz3tr.js"),[]),Легит:()=>e(()=>import("./Легит-B29DlSKA.js"),[]),"Мастах и Ноктюрн":()=>e(()=>import("./Мастах и Ноктюрн-d9jxVGc4.js"),[]),Медиокрис:()=>e(()=>import("./Медиокрис-BQqjU1lh.js"),[]),Наксаз:()=>e(()=>import("./Наксаз-D67rslRi.js"),[]),Оногадор:()=>e(()=>import("./Оногадор-njpKD4DM.js"),[]),Папагуль:()=>e(()=>import("./Папагуль-iw4rFN5r.js"),[]),Пилум:()=>e(()=>import("./Пилум-YajtssDH.js"),[]),Пульсар:()=>e(()=>import("./Пульсар-BDXxHat-.js"),[]),Рат:()=>e(()=>import("./Рат-Dy2yh5me.js"),[]),Сиддарт:()=>e(()=>import("./Сиддарт-Cy3Sjjmq.js"),[]),Синебудка:()=>e(()=>import("./Синебудка-DxBqDJqi.js"),[]),Скаутас:()=>e(()=>import("./Скаутас-DWQfZhG5.js"),[]),Скиумус:()=>e(()=>import("./Скиумус-gIV0c8-T.js"),[]),Скраг:()=>e(()=>import("./Скраг-DPUXRQK8.js"),[]),Сол:()=>e(()=>import("./Сол-ImU6aHEl.js"),[]),Фэлбек:()=>e(()=>import("./Фэлбек-Bg8-b0Nu.js"),[]),Хабенс:()=>e(()=>import("./Хабенс-CqqkOzJ3.js"),[]),Хиниад:()=>e(()=>import("./Хиниад-4Uzgl-ji.js"),[]),Эгуор:()=>e(()=>import("./Эгуор-DDA2jcYq.js"),[]),Эйма:()=>e(()=>import("./Эйма-D64Cxbu1.js"),[]),Эксиль:()=>e(()=>import("./Эксиль-BhZpESkh.js"),[]),Эосдем:()=>e(()=>import("./Эосдем-H6FfCELb.js"),[]),Янао:()=>e(()=>import("./Янао-Cdgx86C1.js"),[])};function Y(i){return t.jsxs(t.Fragment,{children:[t.jsx(c,{display:"flex",alignItems:"center",justifyContent:"center",children:t.jsx(c,{component:"img",src:i.image,maxWidth:"100%",maxHeight:"40vh"})}),t.jsx(u,{sx:{my:2}}),t.jsxs(c,{display:"grid",gridTemplateColumns:"140px 1fr",gap:1,justifyItems:"flex-start",sx:{color:o=>o.palette.text.primary},children:[t.jsx(_,{title:"Тип"}),t.jsx(s,{children:i.type}),t.jsx(_,{title:"Класс"}),t.jsx(s,{children:i.class}),t.jsx(_,{title:"Ранг"}),t.jsx(j,{rank:i.rank,category:"creature"}),t.jsx(_,{title:"Редкость"}),t.jsx(j,{rank:i.rarity,category:"rarity"}),t.jsx(_,{title:"Доступ"}),t.jsx(U,{rank:i.permission}),t.jsx(_,{title:"Популяция"}),t.jsx(s,{children:i.population}),t.jsx(_,{title:"Ареал обитания"}),t.jsx(s,{children:i.arial}),t.jsx(_,{title:"Приручаемость"}),t.jsx(s,{children:i.taming}),t.jsx(_,{title:"Возраст"}),t.jsx(s,{children:i.age}),t.jsx(_,{title:"Мировоззрение"}),t.jsx(T,{alignment:i.alignment}),t.jsx(_,{title:"Агрессивность"}),t.jsx(s,{children:i.agression}),t.jsx(_,{title:"Атрибут"}),t.jsx(s,{children:i.attributes.join(", ")})]}),t.jsx(u,{sx:{my:2}}),t.jsx(Z,{tags:i.tags}),t.jsx(u,{sx:{my:2}}),t.jsx(tt,{name:i.name}),t.jsx(u,{sx:{my:2}}),t.jsx(q,{name:i.name,source:X})]})}function _({title:i}){return t.jsxs(s,{fontWeight:"bold",children:[i,":"]})}function Z({tags:i}){const{data:o,isLoading:a}=A();return a?t.jsx(R,{}):t.jsx(c,{display:"flex",flexWrap:"wrap",gap:1,children:i.map(n=>{var r;return t.jsx(I,{name:n,info:(r=o==null?void 0:o.find(l=>l.id===n))==null?void 0:r.description,category:"tags",fontSize:"large",sx:{color:l=>l.palette.text.secondary}},n)})})}function tt({name:i}){const{data:o,isLoading:a}=V();if(a)return t.jsx(R,{});const n=o==null?void 0:o.creatureLookup.get(i);return n!=null&&n.length?t.jsx(c,{display:"flex",flexWrap:"wrap",gap:1,children:n.map(r=>t.jsxs(c,{display:"flex",flexDirection:"column",alignItems:"center",children:[t.jsx(I,{name:r.icon,title:`${r.resource} | ${r.effect}`,info:r.description,category:"resources",fontSize:"large",sx:{color:l=>l.palette.text.secondary}}),t.jsx(s,{children:r.attribute}),t.jsx(s,{children:r.rank})]},r.name))}):t.jsx(s,{color:"textSecondary",children:"Из существа нельзя получить ресурсы"})}const et=E.memo(function(){const{c:o}=J(),a=D(),{data:n}=h(),r=n==null?void 0:n.lookup.get(o);if(!r)return null;const l=()=>a({});return t.jsx(K,{open:!0,onClose:l,title:r.name,content:t.jsx(Y,{...r})})}),it=E.memo(function(){const{status:o,data:a,error:n}=h(),[r,l]=E.useState([]),[g,P]=O("",500),v=E.useMemo(()=>{const m=g.trim().toLowerCase();let p=(a==null?void 0:a.items)||[];return r.length&&(p=p.filter(d=>r.includes(d.rank))),m?p.filter(d=>[d.name,d.description,d.alignment,d.taming,...d.attributes].join(";").toLowerCase().includes(m)):p},[a,r,g]),{paginate:L,...f}=S(v.length,6);return o==="pending"?t.jsx(M,{}):o==="error"?t.jsx(H,{message:n.message}):t.jsxs(t.Fragment,{children:[t.jsxs(x,{container:!0,spacing:{xs:1,sm:1,md:2},children:[t.jsx(x,{size:12,children:t.jsx($,{placeholder:"Поиск",fullWidth:!0,startAdornment:t.jsx(w,{sx:{color:"action.active",mr:1,my:.5}}),onChange:m=>P(m.target.value)})}),t.jsx(x,{display:"flex",size:{sm:12,md:6},justifyContent:"flex-start",children:t.jsx(b,{ranks:r,setRanks:l})}),t.jsx(x,{size:{xs:12,sm:12,md:6},children:t.jsx(z,{...f})})]}),t.jsx(c,{sx:{width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(350px, 100%), 1fr))",gap:2,pb:2},children:L(v).map(m=>t.jsx(Q,{...m},m.name))}),t.jsx(B,{...f}),t.jsx(et,{})]})}),at=it;export{at as component};
