import{j as e,_ as t,C as c,X as A,D as V,r as E,Y as h,U as O}from"./index-CtQ3VCww.js";import{w as y,C,B as k,u as S,S as w,R as b,T as z,a as B}from"./usePagination-D9TrWTeq.js";import{C as F,j as W,T as s,P as M,E as H,k as x,h as $}from"./ResourceIcon-J8oWTAI1.js";import{c as G,d as D,C as N,R as j,D as u,A as U,M as X,I,e as Y,b as q}from"./IconPopoverBase-DxB3w55z.js";import{L as R}from"./Popover-B8MEZYpV.js";function T({alignment:i,...o}){return e.jsx(G,{text:i,info:y[i],...o})}function J(i){const o=D();return e.jsxs(F,{variant:"elevation",sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[e.jsx(N,{component:"img",image:i.image,alt:i.name,sx:{aspectRatio:"2 / 1"}}),e.jsxs(W,{children:[e.jsxs(s,{variant:"h5",fontSize:{xs:20,sm:24},component:"div",display:"flex",alignItems:"center",gap:0,lineHeight:1,children:[i.name,e.jsx(j,{name:i.rank,category:"creature",color:"textSecondary",fontSize:"inherit",component:"span",ml:1})]}),e.jsxs(s,{gutterBottom:!0,sx:{color:"text.secondary",fontSize:14},children:[i.type," | ",e.jsx(T,{alignment:i.alignment,component:"span",fontSize:"inherit"})]}),e.jsx(s,{variant:"body2",children:i.description})]}),e.jsx(C,{children:e.jsx(k,{onClick:()=>o({search:{c:i.name}}),children:"Читать далее"})})]},i.name)}const K={Абсалонд:()=>t(()=>import("./Абсалонд-B8-Aqct5.js"),[]),Аварагард:()=>t(()=>import("./Аварагард-DDeulAnd.js"),[]),Алисфер:()=>t(()=>import("./Алисфер-pb-mNjpP.js"),[]),Альба:()=>t(()=>import("./Альба-D-aMMdBE.js"),[]),Альнат:()=>t(()=>import("./Альнат-DaPYYikP.js"),[]),Англерия:()=>t(()=>import("./Англерия-BGCcp0EO.js"),[]),Библиотекарь:()=>t(()=>import("./Библиотекарь-WVMlLE9G.js"),[]),Бовем:()=>t(()=>import("./Бовем-ejbM2wU3.js"),[]),Брауни:()=>t(()=>import("./Брауни-CYmty-BP.js"),[]),Вермис:()=>t(()=>import("./Вермис-BqUTDrlV.js"),[]),Вертебар:()=>t(()=>import("./Вертебар-Cabos8tt.js"),[]),Виленс:()=>t(()=>import("./Виленс-D7M-GVEJ.js"),[]),Гекатонхейра:()=>t(()=>import("./Гекатонхейра-z2kOeVcB.js"),[]),Грумм:()=>t(()=>import("./Грумм-CD5g3-dH.js"),[]),Декрейс:()=>t(()=>import("./Декрейс-tCHqOsv-.js"),[]),Денигуит:()=>t(()=>import("./Денигуит-tCvptglk.js"),[]),Дирмах:()=>t(()=>import("./Дирмах-BX3rvwBn.js"),[]),Донкестра:()=>t(()=>import("./Донкестра-CRMk6-WT.js"),[]),Дульцидент:()=>t(()=>import("./Дульцидент-JvYwB62D.js"),[]),Канцер:()=>t(()=>import("./Канцер-DXLayEXj.js"),[]),Конил:()=>t(()=>import("./Конил-DmOkZHZw.js"),[]),Крефигциим:()=>t(()=>import("./Крефигциим-CeZwS8Qc.js"),[]),Легит:()=>t(()=>import("./Легит-Bi8WDu2o.js"),[]),"Мастах и Ноктюрн":()=>t(()=>import("./Мастах и Ноктюрн-DnO616m-.js"),[]),Медиокрис:()=>t(()=>import("./Медиокрис-C8FwYneb.js"),[]),Наксаз:()=>t(()=>import("./Наксаз-DtmcoUIn.js"),[]),Оногадор:()=>t(()=>import("./Оногадор-CWwO_s3h.js"),[]),Папагуль:()=>t(()=>import("./Папагуль-DSbxSw4f.js"),[]),Пилум:()=>t(()=>import("./Пилум-5wnHUg6R.js"),[]),Пульсар:()=>t(()=>import("./Пульсар-D1yVuRr_.js"),[]),Рат:()=>t(()=>import("./Рат-CL001H_G.js"),[]),Сиддарт:()=>t(()=>import("./Сиддарт-MSbZ7p-P.js"),[]),Синебудка:()=>t(()=>import("./Синебудка-Bw2ttdSg.js"),[]),Скаутас:()=>t(()=>import("./Скаутас-DJKJ9Xvr.js"),[]),Скиумус:()=>t(()=>import("./Скиумус-DHVgV-kY.js"),[]),Скраг:()=>t(()=>import("./Скраг-CgzHonSU.js"),[]),Сол:()=>t(()=>import("./Сол-Cc87splP.js"),[]),Фэлбек:()=>t(()=>import("./Фэлбек-CzUHVans.js"),[]),Хабенс:()=>t(()=>import("./Хабенс-D29zEN3A.js"),[]),Хиниад:()=>t(()=>import("./Хиниад-xnSYP4FB.js"),[]),Эгуор:()=>t(()=>import("./Эгуор-BsmeJnte.js"),[]),Эйма:()=>t(()=>import("./Эйма-25iqJlAP.js"),[]),Эксиль:()=>t(()=>import("./Эксиль-C7vP2a8-.js"),[]),Эосдем:()=>t(()=>import("./Эосдем-CvXNUmjQ.js"),[]),Янао:()=>t(()=>import("./Янао-Cd2LzL-6.js"),[])};function Q(i){return e.jsxs(e.Fragment,{children:[e.jsx(c,{display:"flex",alignItems:"center",justifyContent:"center",children:e.jsx(c,{component:"img",src:i.image,maxWidth:"100%",maxHeight:"40vh"})}),e.jsx(u,{sx:{my:2}}),e.jsxs(c,{display:"grid",gridTemplateColumns:"140px 1fr",gap:1,justifyItems:"flex-start",sx:{color:o=>o.palette.text.primary},children:[e.jsx(_,{title:"Тип"}),e.jsx(s,{children:i.type}),e.jsx(_,{title:"Класс"}),e.jsx(s,{children:i.class}),e.jsx(_,{title:"Ранг"}),e.jsx(j,{name:i.rank,category:"creature"}),e.jsx(_,{title:"Редкость"}),e.jsx(j,{name:i.rarity,category:"rarity"}),e.jsx(_,{title:"Доступ"}),e.jsx(U,{rank:i.permission}),e.jsx(_,{title:"Популяция"}),e.jsx(s,{children:i.population}),e.jsx(_,{title:"Ареал обитания"}),e.jsx(s,{children:i.arial}),e.jsx(_,{title:"Приручаемость"}),e.jsx(s,{children:i.taming}),e.jsx(_,{title:"Возраст"}),e.jsx(s,{children:i.age}),e.jsx(_,{title:"Мировоззрение"}),e.jsx(T,{alignment:i.alignment}),e.jsx(_,{title:"Агрессивность"}),e.jsx(s,{children:i.agression}),e.jsx(_,{title:"Атрибут"}),e.jsx(s,{children:i.attributes.join(", ")})]}),e.jsx(u,{sx:{my:2}}),e.jsx(Z,{tags:i.tags}),e.jsx(u,{sx:{my:2}}),e.jsx(ee,{name:i.name}),e.jsx(u,{sx:{my:2}}),e.jsx(X,{name:i.name,source:K})]})}function _({title:i}){return e.jsxs(s,{fontWeight:"bold",children:[i,":"]})}function Z({tags:i}){const{data:o,isLoading:a}=A();return a?e.jsx(R,{}):e.jsx(c,{display:"flex",flexWrap:"wrap",gap:1,children:i.map(n=>{var r;return e.jsx(I,{name:n,info:(r=o==null?void 0:o.find(l=>l.id===n))==null?void 0:r.description,category:"tags",fontSize:"large",sx:{color:l=>l.palette.text.secondary}},n)})})}function ee({name:i}){const{data:o,isLoading:a}=V();if(a)return e.jsx(R,{});const n=o==null?void 0:o.creatureLookup.get(i);return n!=null&&n.length?e.jsx(c,{display:"flex",flexWrap:"wrap",gap:1,children:n.map(r=>e.jsxs(c,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(I,{name:r.icon,title:`${r.resource} | ${r.effect}`,info:r.description,category:"resources",fontSize:"large",sx:{color:l=>l.palette.text.secondary}}),e.jsx(s,{children:r.attribute}),e.jsx(s,{children:r.rank})]},r.name))}):e.jsx(s,{color:"textSecondary",children:"Из существа нельзя получить ресурсы"})}const te=E.memo(function(){const{c:o}=Y(),a=D(),{data:n}=h(),r=n==null?void 0:n.lookup.get(o);if(!r)return null;const l=()=>a({});return e.jsx(q,{open:!0,onClose:l,title:r.name,content:e.jsx(Q,{...r})})}),ie=E.memo(function(){const{status:o,data:a,error:n}=h(),[r,l]=E.useState([]),[g,P]=O("",500),v=E.useMemo(()=>{const m=g.trim().toLowerCase();let p=(a==null?void 0:a.items)||[];return r.length&&(p=p.filter(d=>r.includes(d.rank))),m?p.filter(d=>[d.name,d.description,d.alignment,d.taming,...d.attributes].join(";").toLowerCase().includes(m)):p},[a,r,g]),{paginate:L,...f}=S(v.length,6);return o==="pending"?e.jsx(M,{}):o==="error"?e.jsx(H,{message:n.message}):e.jsxs(e.Fragment,{children:[e.jsxs(x,{container:!0,spacing:{xs:1,sm:1,md:2},children:[e.jsx(x,{size:12,children:e.jsx($,{placeholder:"Поиск",fullWidth:!0,startAdornment:e.jsx(w,{sx:{color:"action.active",mr:1,my:.5}}),onChange:m=>P(m.target.value)})}),e.jsx(x,{display:"flex",size:{sm:12,md:6},justifyContent:"flex-start",children:e.jsx(b,{ranks:r,setRanks:l})}),e.jsx(x,{size:{xs:12,sm:12,md:6},children:e.jsx(z,{...f})})]}),e.jsx(c,{sx:{width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(350px, 100%), 1fr))",gap:2,pb:2},children:L(v).map(m=>e.jsx(J,{...m},m.name))}),e.jsx(B,{...f}),e.jsx(te,{})]})}),ae=ie;export{ae as component};
