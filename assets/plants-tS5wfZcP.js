import{j as e,C as x,a0 as n,D as h,r as _,a1 as p}from"./index-B_c5xwaP.js";import{C as g,k as f,T as r,B as y,P as E,E as v,l as d,m as P,F as I}from"./CardsContainer-DhSPnq-b.js";import{o as D,p as R,S as C,a as L,R as T,B as A}from"./Pagination-CLm2856f.js";import{u,C as V,R as j,N as k,D as m,A as O,M as S,I as b,a as w,b as B}from"./IconPopoverBase-CMQ4yLuU.js";import{C as F}from"./CardActions-GlOM_rfH.js";import{L as z}from"./Popover-DgwO1Icg.js";function W(s){const i=u();return e.jsxs(g,{variant:"elevation",sx:{display:"flex"},children:[e.jsx(V,{component:"img",image:s.image,alt:s.name,sx:{maxWidth:{xs:100,sm:200},minWidth:{xs:100,sm:200},objectFit:{xs:"scale-down",sm:"cover"}}}),e.jsxs(x,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between"},children:[e.jsxs(f,{children:[e.jsxs(r,{variant:"h5",fontSize:{xs:20,sm:24},component:"div",display:"flex",alignItems:"center",lineHeight:1,children:[s.name,e.jsx(j,{name:s.rank,category:"plant",color:"textSecondary",fontSize:"inherit",component:"span",ml:1}),s.starred&&e.jsx(x,{marginLeft:"auto",title:"Добавлено в недавнем обновлении!",children:e.jsx(k,{color:"warning"})})]}),e.jsxs(r,{gutterBottom:!0,sx:{color:"text.secondary",fontSize:14},children:[s.division," | ",s.plantClass," | ",s.order]}),e.jsx(r,{variant:"body2",children:s.shortDescription})]}),e.jsx(F,{children:e.jsx(y,{onClick:()=>i({search:{c:s.name}}),children:"Читать далее"})})]})]},s.name)}const N={Аврория:()=>n(()=>import("./Аврория-D3Bdbbgt.js"),[]),Агония:()=>n(()=>import("./Агония-Bh1edyGr.js"),[]),Амбрелла:()=>n(()=>import("./Амбрелла-DPb81QsO.js"),[]),Аримафея:()=>n(()=>import("./Аримафея-D5H-0VX9.js"),[]),Аромиял:()=>n(()=>import("./Аромиял-ZHMu-qSq.js"),[]),"Бутылочное дерево":()=>n(()=>import("./Бутылочное дерево-Bd4_YxD6.js"),[]),Крето:()=>n(()=>import("./Крето-BiLO-31f.js"),[]),"Ге-гинном":()=>n(()=>import("./Ге-гинном-GT3vUzpo.js"),[]),Дакробелум:()=>n(()=>import("./Дакробелум-BuKUJIa3.js"),[]),Златоцвет:()=>n(()=>import("./Златоцвет-D5g4KJzs.js"),[]),Калейд:()=>n(()=>import("./Калейд-CshBCvgh.js"),[]),Корнахель:()=>n(()=>import("./Корнахель-CkMaztYe.js"),[]),Нахема:()=>n(()=>import("./Нахема-BYVTn1mT.js"),[]),"Цветок жизни":()=>n(()=>import("./Цветок жизни-DXRVOjXs.js"),[])};function M(s){return e.jsxs(e.Fragment,{children:[e.jsx(x,{display:"flex",alignItems:"center",justifyContent:"center",children:e.jsx(x,{component:"img",src:s.image,maxWidth:"100%",maxHeight:"40vh"})}),e.jsx(m,{sx:{my:2}}),e.jsxs(x,{tabIndex:-1,display:"grid",gridTemplateColumns:"140px 1fr",gap:1,justifyItems:"flex-start",sx:{color:i=>i.palette.text.primary},children:[e.jsx(o,{title:"Другие названия"}),e.jsx(r,{children:s.alternativeNames.join(", ")}),e.jsx(o,{title:"Отдел"}),e.jsx(r,{children:s.division}),e.jsx(o,{title:"Класс"}),e.jsx(r,{children:s.plantClass}),e.jsx(o,{title:"Порядок"}),e.jsx(r,{children:s.order}),e.jsx(o,{title:"Семейство"}),e.jsx(r,{children:s.family}),e.jsx(o,{title:"Ранг"}),e.jsx(j,{name:s.rank,category:"plant"}),e.jsx(o,{title:"Редкость"}),e.jsx(j,{name:s.rarity,category:"rarity"}),e.jsx(o,{title:"Доступ"}),e.jsx(O,{rank:s.access}),e.jsx(o,{title:"Ареал"}),e.jsx(r,{children:s.habitat}),e.jsx(o,{title:"Возраст"}),e.jsx(r,{children:s.age}),e.jsx(o,{title:"Атрибут"}),e.jsx(r,{children:s.attributes.join(", ")})]}),e.jsx(m,{sx:{my:2}}),e.jsx(H,{name:s.name}),e.jsx(m,{sx:{my:2}}),e.jsx(S,{name:s.name,source:N})]})}function o({title:s}){return e.jsxs(r,{fontWeight:"bold",children:[s,":"]})}function H({name:s}){const{data:i,isLoading:l}=h();if(l)return e.jsx(z,{});const a=i==null?void 0:i.plantLookup.get(s);return a!=null&&a.length?e.jsx(x,{display:"flex",flexWrap:"wrap",gap:1,children:a.map(t=>e.jsxs(x,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(b,{name:t.icon,title:`${t.resource} | ${t.effect}`,info:t.description,category:"resources",fontSize:"large",sx:{color:c=>c.palette.text.secondary}}),e.jsx(r,{children:t.attribute}),e.jsx(r,{children:t.rank})]},t.name))}):e.jsx(r,{color:"textSecondary",children:"Из существа нельзя получить ресурсы"})}const $=_.memo(function(){const{c:i}=w(),l=u(),{data:a}=p(),t=a==null?void 0:a.lookup.get(i);if(!t)return null;const c=()=>l({});return e.jsx(B,{open:!0,onClose:c,title:t.name,content:e.jsx(M,{...t})})}),G=D(function(){const{status:i,data:l,error:a}=p(),t=R;return _.useEffect(()=>{var c;(c=l==null?void 0:l.items)!=null&&c.length&&t.sync(l.items)},[l,t]),i==="pending"?e.jsx(E,{}):i==="error"?e.jsx(v,{message:a.message}):e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsxs(d,{container:!0,spacing:{xs:1,md:2},children:[e.jsx(d,{size:{xs:12,md:6},children:e.jsx(L,{store:t.search})}),e.jsx(d,{size:{sm:12,md:6},display:"flex",alignItems:"center",width:"100%",children:e.jsx(T,{store:t.rank})})]})}),e.jsx(P,{variant:"plant",items:t.pagination.paginated,render:c=>e.jsx(W,{...c},c.name)}),e.jsx(I,{children:e.jsx(A,{store:t.pagination})}),e.jsx($,{})]})}),Y=G;export{Y as component};
