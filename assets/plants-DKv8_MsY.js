import{j as e,B as d,_ as s,r as _,q as y,p as D}from"./index-CFGERTp2.js";import{C as I,B as T,u as R,S as k,R as A,T as V,a as L}from"./usePagination-BixAJCE7.js";import{C as O,a as S,T as i,P as b,E as w,G as u,I as B}from"./PageLoader-8XAVz2Yt.js";import{u as E,C as z,R as h,D as v,A as F,M as W,a as M,I as N}from"./MarkdownBlock-DRk7Halk.js";import"./LinearProgress-UkNgXDgM.js";function G(t){const r=E();return e.jsxs(O,{variant:"elevation",sx:{display:"flex"},children:[e.jsx(z,{component:"img",image:t.image,alt:t.name,sx:{maxWidth:{xs:100,sm:200},minWidth:{xs:100,sm:200},objectFit:{xs:"scale-down",sm:"cover"}}}),e.jsxs(d,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between"},children:[e.jsxs(S,{children:[e.jsx(i,{variant:"h5",fontSize:{xs:20,sm:24},component:"div",display:"flex",alignItems:"center",gap:1,lineHeight:1,children:e.jsxs("div",{children:[" ",t.name,e.jsx(h,{rank:t.rank,category:"plant",color:"textSecondary",fontSize:"inherit",component:"span",ml:1})]})}),e.jsxs(i,{gutterBottom:!0,sx:{color:"text.secondary",fontSize:14},children:[t.division," | ",t.plantClass," | ",t.order]}),e.jsx(i,{variant:"body2",children:t.shortDescription})]}),e.jsx(I,{children:e.jsx(T,{onClick:()=>r({search:{c:t.name}}),children:"Читать далее"})})]})]},t.name)}const H={Аврория:()=>s(()=>import("./Аврория-Ii4hU9gF.js"),[]),Агония:()=>s(()=>import("./Агония-CWgVUBtY.js"),[]),Аримафея:()=>s(()=>import("./Аримафея-DoBqlIwj.js"),[]),Аромиял:()=>s(()=>import("./Аромиял-M_oqgdWH.js"),[]),"Бутылочное дерево":()=>s(()=>import("./Бутылочное дерево-cwfJpMtZ.js"),[]),"Ге-гинном":()=>s(()=>import("./Ге-гинном-Cl3QRWqo.js"),[]),Дакробелум:()=>s(()=>import("./Дакробелум-7b0V9E7G.js"),[]),Златоцвет:()=>s(()=>import("./Златоцвет-Dz8LZ-v0.js"),[]),Калейд:()=>s(()=>import("./Калейд-CkdF28UR.js"),[]),Корнахель:()=>s(()=>import("./Корнахель-gsQxzYbK.js"),[]),Нахема:()=>s(()=>import("./Нахема-D70w-TZy.js"),[]),"Цветок жизни":()=>s(()=>import("./Цветок жизни-CvNKatEq.js"),[])};function q(t){return e.jsxs(e.Fragment,{children:[e.jsx(d,{display:"flex",alignItems:"center",justifyContent:"center",children:e.jsx(d,{component:"img",src:t.image,maxWidth:"100%",maxHeight:"40vh"})}),e.jsx(v,{sx:{my:2}}),e.jsxs(d,{tabIndex:-1,display:"grid",gridTemplateColumns:"140px 1fr",gap:1,justifyItems:"flex-start",sx:{color:r=>r.palette.text.primary},children:[e.jsx(n,{title:"Другие имена"}),e.jsx(i,{children:t.alternativeNames.join(", ")}),e.jsx(n,{title:"Отдел"}),e.jsx(i,{children:t.division}),e.jsx(n,{title:"Класс"}),e.jsx(i,{children:t.plantClass}),e.jsx(n,{title:"Доступ"}),e.jsx(F,{rank:t.access}),e.jsx(n,{title:"Порядок"}),e.jsx(i,{children:t.order}),e.jsx(n,{title:"Семейство"}),e.jsx(i,{children:t.family}),e.jsx(n,{title:"Ранг"}),e.jsx(h,{rank:t.rank,category:"plant"}),e.jsx(n,{title:"Редкость"}),e.jsx(h,{rank:t.rarity,category:"rarity"}),e.jsx(n,{title:"Ареал"}),e.jsx(i,{children:t.habitat}),e.jsx(n,{title:"Возраст"}),e.jsx(i,{children:t.age}),e.jsx(n,{title:"Атрибут"}),e.jsx(i,{children:t.attributes.join(", ")})]}),e.jsx(v,{sx:{my:2}}),e.jsx(W,{name:t.name,source:H})]})}function n({title:t}){return e.jsxs(i,{fontWeight:"bold",children:[t,":"]})}const J=_.memo(function(){const{c:r}=M(),l=E(),{data:x}=y(),c=x==null?void 0:x.lookup.get(r);if(!c)return null;const p=()=>l({});return e.jsx(N,{open:!0,onClose:p,title:c.name,content:e.jsx(q,{...c})})}),K=_.memo(function(){const{status:r,data:l,error:x}=y(),[c,p]=D("",500),[m,P]=_.useState([]),g=_.useMemo(()=>{const a=c.trim().toLowerCase();let j=(l==null?void 0:l.items)||[];return m.length&&(j=j.filter(o=>m.includes(o.rank))),a?j.filter(o=>[o.name,o.division,o.shortDescription,...o.attributes,...o.alternativeNames].join(";").toLowerCase().includes(a)):j},[l,m,c]),{paginate:C,...f}=R(g.length,6);return r==="pending"?e.jsx(b,{}):r==="error"?e.jsx(w,{message:x.message}):e.jsxs(e.Fragment,{children:[e.jsxs(u,{container:!0,spacing:{xs:1,sm:1,md:2},children:[e.jsx(u,{size:12,children:e.jsx(B,{placeholder:"Поиск",fullWidth:!0,startAdornment:e.jsx(k,{sx:{color:"action.active",mr:1,my:.5}}),onChange:a=>p(a.target.value)})}),e.jsx(u,{display:"flex",size:{sm:12,md:6},justifyContent:"flex-start",children:e.jsx(A,{ranks:m,setRanks:P})}),e.jsx(u,{size:{xs:12,sm:12,md:6},children:e.jsx(V,{...f})})]}),e.jsx(d,{sx:{width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(400px, 100%), 1fr))",gap:2,pb:2},children:C(g).map(a=>e.jsx(G,{...a},a.name))}),e.jsx(L,{...f}),e.jsx(J,{})]})}),$=K;export{$ as component};
